jQuery(document).ready(function(e){var i,t=-1;let n=0;function r(r){n=0,t=r,r>=i.length&&(t=0),r<0&&(t=i.length-1),e("#reviews-content-left-modal").html(""),e("#reviews-content-left-main").html("");let a=e("#reviews-content-left-modal"),s=e("#reviews-content-left-main"),o=e(".wcpr-grid").find(".wcpr-grid-item").eq(t);if(0==o.find(".reviews-images-container").length)e("#reviews-content-left").addClass("wcpr-no-images");else{o.find(".reviews-images-wrap-left .reviews-images").length>1&&a.html(o.find(".reviews-images-wrap-left").html());let i,t=o.find(".reviews-images-wrap-right").eq(0).html();void 0===t&&(t=o.find(".reviews-images-wrap:first-child > a").html(),i=o.find(".reviews-images-wrap:first-child > a").attr("href")),t&&(e("#reviews-content-left").removeClass("wcpr-no-images"),s.html(t),s.find("img").attr("src",i||s.find("img").data("original_src")||s.find("img").attr("src")).css({width:"auto",height:"auto"}),s.find(".reviews-videos").css({"min-height":"400px"}),s.find(".reviews-videos.reviews-videos-youtube").css({width:"500px"})),a.find(".reviews-images").map(function(){let i=e(this).data("src");i&&e(this).attr("src",i)}),a.find(".reviews-images").closest("a").on("click",function(){n=e(this).data().image_index;let i=e(this).attr("href");jQuery(`<img class="reviews-images" data-original_src="${i}" src="${i}">`);return s.find("source").attr("srcset",i),s.find(".wcpr-review-image-caption").html(e(this).data("image_caption")),!1})}e("#reviews-content-right .reviews-content-right-meta").html(e(".wcpr-grid").find(".wcpr-grid-item").eq(t).find(".review-content-container").html()),e(".wcpr-modal-light-box").fadeIn(200)}function a(){let i=parseInt(e("html").css("top"));e("html").removeClass("wcpr-noscroll"),window.scrollTo({top:-i,behavior:"instant"})}e(".wcpr-grid-item")&&(i=e(".wcpr-grid-item")),e(".wcpr-close").on("click",function(){a(),e(".wcpr-modal-light-box").fadeOut(200),t=-1}),e(".wcpr-modal-light-box .wcpr-overlay").on("click",function(){a(),e(".wcpr-modal-light-box").fadeOut(200),t=-1}),e("#reviews-content-left-main").on("click",".reviews-images",function(){let i=e(this),t=[];e("#reviews-content-left-modal").find("a").map(function(){let i=e(this).find(".reviews-images"),n=e(this).data().image_src?e(this).data().image_src:i.attr("src"),r=e(this).data().image_caption?e(this).data().image_caption:parseInt(e(this).data().image_index)+1+"/"+e("#reviews-content-left-modal").find("a").length;t.push({href:n,title:r})}),0==t.length&&t.push({href:i.data().original_src?i.data().original_src:i.attr("src"),title:i.parent().find(".wcpr-review-image-caption").html()}),e.swipebox(t,{hideBarsDelay:1e5,initialIndexOnArray:n})}),e(document).keydown(function(i){e.swipebox.isOpen||"none"!=e(".wcpr-modal-light-box").css("display")&&(27==i.keyCode&&(a(),e(".wcpr-modal-light-box").fadeOut(200),t=-1),-1!=t&&(37==i.keyCode&&r(t-=1),39==i.keyCode&&r(t+=1)))}),e("body").on("click",".wcpr-grid-item",function(){let t=(i=e(".wcpr-grid-item")).index(e(this));t>=0&&(r(t),function(){if(e(document).height()>e(window).height()){let i=e("html").scrollTop()?e("html").scrollTop():e("body").scrollTop();e("html").addClass("wcpr-noscroll").css("top",-i)}}())}),e("body").on("click",".wcpr-next",function(){r(t+=1)}),e("body").on("click",".wcpr-prev",function(){r(t-=1)})});